"use strict";(self.webpackChunkyoutube=self.webpackChunkyoutube||[]).push([[43],{1043:(lt,b,s)=>{s.r(b),s.d(b,{YoutubeModule:()=>ct});var F=s(1115),u=s(3914),g=s(8645),l=s(9773),c=s(676);const D=(0,c.ZF)("customCards"),P=(0,c.P1)(D,n=>n.customItems),I=n=>(0,c.P1)(P,a=>a.find(e=>e.id===n));var y=s(350),h=s(7398),f=s(7921),O=s(1374),d=s(3877),m=s(728),t=s(5879),T=s(4974),r=s(6814),v=s(617),C=s(8675),Z=s(346),M=s(544);function A(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-custom-button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onDeleteCustomCardById(o.currentItem.id))}),t.TgZ(1,"mat-icon"),t._uU(2," close "),t.qZA()()}}const S=function(n){return{favoriteButton:n}};function k(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-custom-button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onFavoriteCardToggle(o.currentItem))}),t.TgZ(1,"mat-icon",20),t.ALo(2,"async"),t._uU(3,"bookmark"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,S,t.lcZ(2,1,e.isFavorite$)))}}const J=function(n){return{favoriteCard:n}},x=function(n){return{favoriteText:n}};function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.ALo(1,"async"),t.TgZ(2,"app-custom-button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.backToMain())}),t.TgZ(3,"mat-icon",4),t._uU(4,"arrow_back_ios_new"),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"h1",9),t.ALo(10,"async"),t._uU(11),t.qZA(),t.TgZ(12,"div",10),t.ALo(13,"async"),t._uU(14),t.ALo(15,"date"),t.qZA()(),t.TgZ(16,"div",11)(17,"div",12),t._uU(18,"Description:"),t.qZA(),t.TgZ(19,"div",13),t.ALo(20,"async"),t._uU(21),t.qZA()(),t.TgZ(22,"div",14),t._UZ(23,"app-metrics",15),t.qZA(),t.YNc(24,A,3,0,"app-custom-button",16),t.YNc(25,k,4,5,"app-custom-button",17),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(24,J,t.lcZ(1,13,e.isFavorite$))),t.xp6(6),t.Q6J("src",e.currentItem.snippet.thumbnails.standard.url,t.LSH)("alt",e.currentItem.snippet.title),t.xp6(1),t.Q6J("appColorByDate",e.currentItem.snippet.publishedAt||""),t.xp6(2),t.Q6J("ngClass",t.VKq(26,x,t.lcZ(10,15,e.isFavorite$))),t.xp6(2),t.hij(" ",e.currentItem.snippet.title," "),t.xp6(1),t.Q6J("ngClass",t.VKq(28,x,t.lcZ(13,17,e.isFavorite$))),t.xp6(2),t.hij(" ",t.xi3(15,19,e.currentItem.snippet.publishedAt,"fullDate")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(30,x,t.lcZ(20,22,e.isFavorite$))),t.xp6(2),t.hij(" ",e.currentItem.snippet.description," "),t.xp6(2),t.Q6J("item",e.currentItem),t.xp6(1),t.Q6J("ngIf",e.currentItem.custom),t.xp6(1),t.Q6J("ngIf",!e.currentItem.custom)}}function $(n,a){1&n&&(t.TgZ(0,"div",21),t._uU(1,"Loading..."),t.qZA())}let U=(()=>{class n{constructor(e,i,o,p,_){this.activatedRoute=e,this.router=i,this.resultsService=o,this.store=p,this.location=_,this.detailedSub=new g.x,this.currentItemId="",this.isFavorite$=this.store.select(m._Y).pipe((0,h.U)(B=>this.currentItem&&B.includes(this.currentItem.id)||!1),(0,f.O)(!1))}ngOnInit(){this.listenToRouteParams()}listenToRouteParams(){this.activatedRoute.params.pipe((0,l.R)(this.detailedSub)).subscribe(e=>{this.currentItemId=e.id,this.fetchCurrentItem()})}fetchCurrentItem(){this.store.pipe((0,c.Ys)(I(this.currentItemId)),(0,l.R)(this.detailedSub),(0,O.P)()).subscribe(e=>{e?this.currentItem=e:this.fetchItemById()})}fetchItemById(){this.resultsService.getVideoItemById(this.currentItemId).subscribe({next:([e])=>{e?this.currentItem=e:this.handleItemNotFound()},error:e=>{console.error("Error fetching video item:",e)}})}onDeleteCustomCardById(e){this.store.dispatch((0,y.Ku)({cardId:e})),this.store.pipe((0,c.Ys)(I(e)),(0,l.R)(this.detailedSub),(0,O.P)()).subscribe(i=>{i||this.backToMain()}).unsubscribe()}handleItemNotFound(){this.router.navigate(["**"],{skipLocationChange:!0})}backToMain(){this.location.back()}onFavoriteCardToggle(e){const i=e.id;e.favorite?(this.store.dispatch((0,d.zm)({videoId:i})),this.currentItem&&(this.currentItem.favorite=!1)):(this.store.dispatch((0,d._p)({videoId:i})),this.currentItem&&(this.currentItem.favorite=!0))}ngOnDestroy(){this.detailedSub.next(),this.detailedSub.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(T.L),t.Y36(c.yh),t.Y36(r.Ye))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-detailed-information-page"]],decls:2,vars:2,consts:[["class","detailed",3,"ngClass",4,"ngIf"],["class","detailed__loading",4,"ngIf"],[1,"detailed",3,"ngClass"],["additionalClasses","detailed__back-button",3,"click"],[1,"detailed__icon"],[1,"detailed__image"],[3,"src","alt"],[1,"detailed__wrapper",3,"appColorByDate"],[1,"detailed__wrapper-titledate"],[1,"detailed__wrapper-title",3,"ngClass"],[1,"detailed__wrapper-date",3,"ngClass"],[1,"detailed__wrapper-about"],[1,"detailed__wrapper-subtitle"],[1,"detailed__wrapper-description",3,"ngClass"],[1,"detailed__wrapper-metrics"],[3,"item"],["class","detailed__wrapper__button-delete","additionalClasses","customButtonDelete",3,"click",4,"ngIf"],["class","detailed__wrapper__button-favorite","type","button","additionalClasses","favoritePathButton favoritePathButton-item","title","Favorite",3,"click",4,"ngIf"],["additionalClasses","customButtonDelete",1,"detailed__wrapper__button-delete",3,"click"],["type","button","additionalClasses","favoritePathButton favoritePathButton-item","title","Favorite",1,"detailed__wrapper__button-favorite",3,"click"],[1,"header__favorite__icon",3,"ngClass"],[1,"detailed__loading"]],template:function(i,o){1&i&&(t.YNc(0,Y,26,32,"div",0),t.YNc(1,$,2,0,"div",1)),2&i&&(t.Q6J("ngIf",o.currentItem),t.xp6(1),t.Q6J("ngIf",!o.currentItem))},dependencies:[r.mk,r.O5,v.Hw,C.x,Z.P,M.i,r.Ov,r.uU],styles:["[_nghost-%COMP%]   .favoriteCard[_ngcontent-%COMP%]{background:var(--background-favorite);color:#fff}[_nghost-%COMP%]   .favoriteButton[_ngcontent-%COMP%]{color:var(--danger-color)}[_nghost-%COMP%]   .favoriteText[_ngcontent-%COMP%]{color:var(--favorite-color)}.detailed[_ngcontent-%COMP%]{display:flex;position:relative;width:max-content;margin:2rem auto;background-color:var(--background);border-bottom-left-radius:10px;border-bottom-right-radius:10px;border-top-right-radius:10px;box-shadow:#00000073 5px 5px 20px 5px;cursor:default}.detailed__image[_ngcontent-%COMP%]{display:flex;max-width:640px;max-height:480px;object-fit:contain}.detailed__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom-left-radius:10px}.detailed__icon[_ngcontent-%COMP%]{display:flex;justify-content:center;height:inherit;font-size:27px;color:#fff}.detailed__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:2rem;height:auto;position:relative}.detailed__wrapper-titledate[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:30px}.detailed__wrapper-title[_ngcontent-%COMP%]{max-width:350px;color:#4e4e4e;font-size:1.25rem;font-weight:600}.detailed__wrapper-date[_ngcontent-%COMP%]{align-self:end;font-size:14px;color:#828282}.detailed__wrapper-about[_ngcontent-%COMP%]{display:flex;flex-direction:column}.detailed__wrapper-subtitle[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.detailed__wrapper-description[_ngcontent-%COMP%]{max-width:540px;max-height:200px;font-size:15px;color:#828282;overflow:auto}.detailed__wrapper-metrics[_ngcontent-%COMP%]{width:380px;margin:0 auto}.detailed__wrapper__button-delete[_ngcontent-%COMP%], .detailed__wrapper__button-favorite[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.detailed__loading[_ngcontent-%COMP%]{position:absolute;transform:translate(50%,50%)}"]})}return n})();var Q=s(2572),N=s(2382),L=s(7108),H=s(3997);function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-custom-button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onDeleteCustomCardById(o.item.id))}),t.TgZ(1,"mat-icon"),t._uU(2," close "),t.qZA()()}}const V=function(n){return{favoriteButton:n}};function R(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-custom-button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onFavoriteCardToggle(o.item))}),t.TgZ(1,"mat-icon",11),t.ALo(2,"async"),t._uU(3,"bookmark"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,V,t.lcZ(2,1,e.isFavorite$)))}}const j=function(n){return{favoriteCard:n}},w=function(n){return{favoriteText:n}};function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.ALo(1,"async"),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.qZA(),t._UZ(4,"app-metrics",4),t.ALo(5,"async"),t.TgZ(6,"div",5),t.ALo(7,"async"),t._uU(8),t.qZA(),t.TgZ(9,"app-custom-button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onOpenDetailedPageById(o.item.id))}),t._uU(10," more... "),t.qZA(),t.YNc(11,K,3,0,"app-custom-button",7),t.YNc(12,R,4,5,"app-custom-button",8),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("appColorByDate",e.item.snippet.publishedAt)("ngClass",t.VKq(16,j,t.lcZ(1,10,e.isFavorite$))),t.xp6(3),t.Q6J("src",e.item.snippet.thumbnails.medium.url,t.LSH)("alt",e.item.snippet.title),t.xp6(1),t.Q6J("item",e.item)("ngClass",t.VKq(18,w,t.lcZ(5,12,e.isFavorite$))),t.xp6(2),t.Q6J("ngClass",t.VKq(20,w,t.lcZ(7,14,e.isFavorite$))),t.xp6(2),t.hij(" ",e.item.snippet.title," "),t.xp6(3),t.Q6J("ngIf",e.item.custom),t.xp6(1),t.Q6J("ngIf",!e.item.custom)}}let E=(()=>{class n{constructor(e,i){this.router=e,this.store=i,this.item=null,this.isFavorite$=this.store.select(m._Y).pipe((0,h.U)(o=>this.item&&o.includes(this.item.id)||!1),(0,f.O)(!1),(0,H.x)())}onOpenDetailedPageById(e){this.router.navigate(["/youtube",e])}onDeleteCustomCardById(e){this.store.dispatch((0,y.Ku)({cardId:e}))}onFavoriteCardToggle(e){const i=e.id;this.store.dispatch(e.favorite?(0,d.zm)({videoId:i}):(0,d._p)({videoId:i}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(u.F0),t.Y36(c.yh))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-item"]],inputs:{item:"item"},decls:1,vars:1,consts:[["class","item",3,"appColorByDate","ngClass",4,"ngIf"],[1,"item",3,"appColorByDate","ngClass"],[1,"item__image"],[3,"src","alt"],[3,"item","ngClass"],[1,"item__title",3,"ngClass"],["additionalClasses","item__button",3,"click"],["class","item__button-delete","additionalClasses","customButtonDelete",3,"click",4,"ngIf"],["class","item__button-favorite","type","button","additionalClasses","favoritePathButton favoritePathButton-item","title","Favorite page",3,"click",4,"ngIf"],["additionalClasses","customButtonDelete",1,"item__button-delete",3,"click"],["type","button","additionalClasses","favoritePathButton favoritePathButton-item","title","Favorite page",1,"item__button-favorite",3,"click"],[1,"header__favorite__icon",3,"ngClass"]],template:function(i,o){1&i&&t.YNc(0,z,13,22,"div",0),2&i&&t.Q6J("ngIf",o.item)},dependencies:[r.mk,r.O5,v.Hw,C.x,Z.P,M.i,r.Ov],styles:["[_nghost-%COMP%]   .favoriteCard[_ngcontent-%COMP%]{background:var(--background-favorite)}[_nghost-%COMP%]   .favoriteButton[_ngcontent-%COMP%]{color:var(--danger-color)}[_nghost-%COMP%]   .favoriteText[_ngcontent-%COMP%]{color:var(--favorite-color)}.item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;min-height:450px;border-radius:10px;background-color:var(--background);padding:1.5rem;cursor:default;box-shadow:#00000054 3px 0 5px;position:relative}.item__image[_ngcontent-%COMP%]{width:320px;height:180px}.item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;max-width:100%;max-height:100%;object-fit:fill;display:block}.item__title[_ngcontent-%COMP%]{align-self:end;height:60px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:320px;color:#4e4e4e;font-size:1.25rem;font-weight:600;padding-left:4rem}.item__button-delete[_ngcontent-%COMP%], .item__button-favorite[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]})}return n})();var q=s(58),G=s(2129);function X(n,a){1&n&&t._UZ(0,"app-search-item",1),2&n&&t.Q6J("item",a.$implicit)}const W=function(){return[]};let tt=(()=>{class n{constructor(e,i,o){this.sortService=e,this.filterService=i,this.store=o,this.combinedVideoItems$=null,this.onDestroy=new g.x}ngOnInit(){const e=this.store.select(m.O_).pipe((0,f.O)([])),i=this.store.select(P);this.combinedVideoItems$=(0,Q.a)([i,e]).pipe((0,l.R)(this.onDestroy),(0,h.U)(([p,_])=>(1===this.getCurrentPage()?[...p,..._]:_).slice(0,20)))}trackByFn(e,i){return i.id}getCurrentPage(){const e=localStorage.getItem("currentPage");return e?+e:1}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(N.K),t.Y36(L.i),t.Y36(c.yh))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-results"]],decls:4,vars:12,consts:[["class","items",3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"items",3,"item"]],template:function(i,o){1&i&&(t.YNc(0,X,1,1,"app-search-item",0),t.ALo(1,"sorting"),t.ALo(2,"filtering"),t.ALo(3,"async")),2&i&&t.Q6J("ngForOf",t.Dn7(1,2,t.xi3(2,6,t.lcZ(3,9,o.combinedVideoItems$)||t.DdM(11,W),o.filterService.filterValue),o.sortService.sortBy,o.sortService.sortOrder))("ngForTrackBy",o.trackByFn)},dependencies:[r.sg,E,r.Ov,q.r,G.O],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));justify-content:center;align-items:start;gap:1.5rem}"]})}return n})(),et=(()=>{class n{constructor(e,i){this.store=e,this.resultService=i,this.currentPage=1,this.isPrevPageButtonDisable=!1,this.isNextPageButtonDisable=!1,this.destroy$=new g.x}ngOnInit(){const e=localStorage.getItem("currentPage");this.currentPage=e?+e:1,this.resultService.prevPageToken$.pipe((0,l.R)(this.destroy$)).subscribe(i=>{this.isPrevPageButtonDisable=null===i}),this.resultService.nextPageToken$.pipe((0,l.R)(this.destroy$)).subscribe(i=>{this.isNextPageButtonDisable=null===i})}nextPage(){this.currentPage+=1,localStorage.setItem("currentPage",this.currentPage.toString()),this.store.dispatch(d.KZ())}prevPage(){this.currentPage>1&&(this.currentPage-=1,localStorage.setItem("currentPage",this.currentPage.toString()),this.store.dispatch(d.OH()))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.yh),t.Y36(T.L))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-pagination"]],decls:11,vars:3,consts:[[1,"pagination"],[3,"disabled","click"],[1,"material-symbols-outlined"],[1,"pagination__current"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"app-custom-button",1),t.NdJ("click",function(){return o.prevPage()}),t.TgZ(2,"mat-icon")(3,"span",2),t._uU(4," first_page "),t.qZA()()(),t.TgZ(5,"div",3),t._uU(6),t.qZA(),t.TgZ(7,"app-custom-button",1),t.NdJ("click",function(){return o.nextPage()}),t.TgZ(8,"mat-icon")(9,"span",2),t._uU(10," last_page "),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("disabled",o.isPrevPageButtonDisable),t.xp6(5),t.Oqu(o.currentPage),t.xp6(1),t.Q6J("disabled",o.isNextPageButtonDisable))},dependencies:[v.Hw,C.x],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:1rem auto}.pagination__current[_ngcontent-%COMP%]{padding:0 1rem;font-size:1.4rem;color:#fff;background-color:var(--primary);border-radius:5px;cursor:default;text-align:center}mat-icon[_ngcontent-%COMP%]{display:flex}"]})}return n})();function nt(n,a){1&n&&(t.TgZ(0,"div",2)(1,"p"),t._uU(2,"Loading..."),t.qZA()())}function it(n,a){1&n&&t._UZ(0,"app-pagination")}function ot(n,a){1&n&&t._UZ(0,"app-pagination")}function st(n,a){if(1&n&&(t.YNc(0,it,1,0,"app-pagination",3),t._UZ(1,"app-search-results"),t.YNc(2,ot,1,0,"app-pagination",3)),2&n){const e=t.oxw();t.Q6J("ngIf",e.isVideosItems),t.xp6(2),t.Q6J("ngIf",e.isVideosItems)}}const at=[{path:"",component:(()=>{class n{constructor(e){this.store=e,this.isVideosItems=!1,this.destroy$=new g.x}ngOnInit(){this.isLoading$=this.store.select(m.VW),this.videoItems$=this.store.pipe((0,c.Ys)(m.O_)),this.videoItems$&&this.videoItems$.pipe((0,l.R)(this.destroy$)).subscribe(e=>{this.isVideosItems=e.length>0})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(c.yh))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-home-page"]],decls:5,vars:4,consts:[["class","loading",4,"ngIf","ngIfElse"],["searchResults",""],[1,"loading"],[4,"ngIf"]],template:function(i,o){if(1&i&&(t.ynx(0),t.YNc(1,nt,3,0,"div",0),t.ALo(2,"async"),t.YNc(3,st,3,2,"ng-template",null,1,t.W1O),t.BQk()),2&i){const p=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.isLoading$))("ngIfElse",p)}},dependencies:[r.O5,tt,et,r.Ov],styles:[".loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem}"]})}return n})()},{path:":id",component:U}];let rt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(at),u.Bz]})}return n})(),ct=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[F.m,rt]})}return n})()}}]);